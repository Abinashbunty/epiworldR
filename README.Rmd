---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

[![R-CMD-check](https://github.com/UofUEpi/epiworldR/actions/workflows/r.yml/badge.svg)](https://github.com/UofUEpi/epiworldR/actions/workflows/r.yml)

# epiworldR 

<!-- badges: start -->
<!-- badges: end -->

This R package is a wrapper of the C++ library [epiworld](https://github.com/UofUEpi/epiworld). 
It provides a general framework for modeling disease transmission using Agent-Based Models.

## Installation

You can install the development version of epiworldR from [GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("UofUEpi/epiworldR")
```

# Examples

## SIR model using a random graph

This is a basic example which shows you how to solve a common problem:

```{r example}
library(epiworldR)

# Creating a SIR model
sir <- ModelSIR(
  name           = "COVID-19",
  prevalence     = .01,
  infectiousness = .7,
  recovery       = .3
  ) |>
  # Adding a Small world population 
  agents_smallworld(n = 100000, k = 10, d = FALSE, p = .01) |>
  # Running the model for 50 days
  run(ndays = 50, seed = 1912)

sir
```

Visualizing the outputs

```{r}
plot(sir)
```

## SEIR Model with a fully connected graph

```{r}
model_seirconn <- ModelSEIRCONN(
  name                = "COVID-19",
  prevalence          = 0.01, 
  n                   = 10000,
  contact_rate        = 4, 
  incubation_days     = 7, 
  prob_transmission   = 0.6,
  prob_recovery       = 0.5
)

set.seed(132)
run(model_seirconn, ndays = 100)
model_seirconn
```

Computing some key statistics

```{r}
plot(model_seirconn)

repnum <- get_reproductive_number(model_seirconn)
plot(repnum, type = "b")
```

